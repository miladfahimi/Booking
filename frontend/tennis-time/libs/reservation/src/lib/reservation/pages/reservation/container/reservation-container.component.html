<div class="limiter">
  <div class="container-calendar">
    <div class="wrap-calendar">
      <!-- Load Mobile or Desktop Calendar Component -->
      @let isMobileView = true;
      @if (isMobileView) {
      <app-reservation-calendar-mobile [isMobile]="isMobileView" (selectDay)="onDaySelected($event)">
      </app-reservation-calendar-mobile>
      } @else {
      <app-reservation-calendar-desktop [isMobile]="isMobileView" (selectDay)="onDaySelected($event)">
      </app-reservation-calendar-desktop>
      }

      <div class="reservation-alert" *ngIf="foreignHoldWarning$ | async">
        <div class="reservation-alert__message">
          یک کاربر دیگر در حال افزودن این نوبت به سبد خود است. اگر قصد رزرو دارید سریع‌تر اقدام کنید.
        </div>
        <button type="button" class="reservation-alert__dismiss" (click)="onDismissForeignHoldWarning()">
          باشه
        </button>
      </div>

      <app-timeline [services]="items" [slotsByService]="(timeSlots$ | async) ?? {}"
        (addToBasket)="onAddSlotToBasket($event)"></app-timeline>

      <app-reservation-basket [items]="(basketItems$ | async) ?? []" [total]="(basketTotal$ | async) ?? 0"
        [loading]="(checkoutLoading$ | async) ?? false" [payment]="paymentResult$ | async"
        (remove)="onRemoveFromBasket($event)" (checkout)="onCheckout()"></app-reservation-basket>

    </div>
  </div>
</div>